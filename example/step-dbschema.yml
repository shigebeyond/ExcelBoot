- connect_db:
    ip: 192.168.62.200
    port: 3306
    dbname: test
    user: root
    password: root
    echo_sql: true
- query_db:
    tables: >
        SELECT
            TABLE_COMMENT as 表注释,
            TABLE_NAME as 表名
        FROM
            information_schema. TABLES
        WHERE
            TABLE_SCHEMA = 'test'
- export_excel:
    var: tables
    #file: data/test数据结构.csv
    file: data/test数据结构.xlsx
    sheet: 目录
- for(${tables[表名]}):
    - set_vars:
          table: $for_v
    - query_db:
        cols: >
            SELECT
                -- TABLE_NAME as 表名
                COLUMN_NAME as 字段编码,
                COLUMN_COMMENT as 字段名称,
                DATA_TYPE as 字段类型,
                IFNULL(CHARACTER_MAXIMUM_LENGTH, NUMERIC_PRECISION) as 字段长度,
                COLUMN_KEY as 主键,
                -- IS_NULLABLE as 为空,
                '' as 原表名,
                '' as 原表字段,
                '' as 备注
            FROM
                information_schema. COLUMNS
            WHERE
                TABLE_SCHEMA = 'test' AND TABLE_NAME = '${table}'
    - export_excel:
          var: cols
          file: data/test数据结构-$table.csv
          #file: data/test数据结构.xlsx
          #sheet: $table
          rownum: true # 添加行号